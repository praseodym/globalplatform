# Usage: make -f Makefile-Release
# (In Cygwin)

VERSION=1.4.0
DIR=GPShell-$(VERSION)
SRCDIR=GPShell-$(VERSION)-src

all:	bin_package src_package

bin_package:
	rm -rf $(DIR)
	mkdir $(DIR)
	cp Release/GPShell.exe GlobalPlatform.dll README CHANGES COPYING AUTHORS helloInstall.txt helloDelete.txt helloInstallGP211.txt helloDeleteGP211.txt list.txt listgp211.txt replacekey-cosmo-gp211.txt recyclekey-cosmo-gp211.txt helloDeletegemXpressoProR3_2E64.txt  helloInstallgemXpressoProR3_2E64.txt listgemXpressoProR3_2E64.txt HelloWorld.bin HelloWorld.cap $(DIR)
	zip GPShell-$(VERSION).zip $(DIR)/*

src_package:
	rm -rf $(SRCDIR)
	mkdir $(SRCDIR)
	cp GPShell.c stdafx.c stdafx.h README CHANGES COPYING AUTHORS helloInstall.txt helloDelete.txt helloInstallGP211.txt helloDeleteGP211.txt list.txt listgp211.txt replacekey-cosmo-gp211.txt recyclekey-cosmo-gp211.txt helloDeletegemXpressoProR3_2E64.txt  helloInstallgemXpressoProR3_2E64.txt listgemXpressoProR3_2E64.txt HelloWorld.bin HelloWorld.cap $(SRCDIR)
	tar cvfz GPShell-$(VERSION)-src.tar.gz $(SRCDIR)

clean:
	rm -rf GPShell-$(VERSION).zip $(DIR) GPShell-$(VERSION)-src.tar.gz $(SRCDIR)
